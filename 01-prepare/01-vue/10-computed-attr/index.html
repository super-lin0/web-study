<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="../lib/vue.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <input type="text" v-model="message" />
      <p>{{ message }}</p>
      <p>
        {{
          message
            .split("")
            .reverse()
            .join("")
        }}
      </p>

      <p>{{ reverserMsg }}</p>

      <p>{{ list.map(i => i * 2 ).filter( i => i < 10)}}</p>

      <p>{{ filterList }}</p>
    </div>
    <script>
      // 计算属性定义在computed中，他不是方法，属性的值是函数的返回值。
      // 把对处理数据的逻辑抽离在计算属性中，使得模版更加轻量易读
      // 计算属性的值会被缓存，并根据依赖的数据变化而重新计算
      // 计算属性的使用
      //   取值  触发get函数，默认设置的函数
      //   赋值  触发set函数
      new Vue({
        el: "#app",
        data: {
          message: "Hello World",
          list: [1, 2, 3, 4, 5]
        },
        computed: {
          // 计算属性会把结果缓存，可在模版中重复使用
          // 计算属性中依赖了data中的数据，data中的数据发生变化，计算属性也会随之变化
          reverserMsg() {
            return this.message
              .split("")
              .reverse()
              .join("");
          },
          filterList() {
            return this.list.map(i => i * 2).filter(i => i < 10);
          }
        }
      });
    </script>
  </body>
</html>
